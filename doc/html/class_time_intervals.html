<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>max_visitors: TimeIntervals Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">max_visitors
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_time_intervals-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TimeIntervals Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_time_intervals.html" title="TimeIntervals class.">TimeIntervals</a> class.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_time_intervals_8h_source.html">TimeIntervals.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a27016c92eac5a40f55a986c713e7c0c7" id="r_a27016c92eac5a40f55a986c713e7c0c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27016c92eac5a40f55a986c713e7c0c7">readFromFile</a> (const std::string &amp;inputFile)</td></tr>
<tr class="separator:a27016c92eac5a40f55a986c713e7c0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ebe1ba81b2dc6ee7a1f83ef38867b3" id="r_a90ebe1ba81b2dc6ee7a1f83ef38867b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90ebe1ba81b2dc6ee7a1f83ef38867b3">calculateFrequencies</a> ()</td></tr>
<tr class="separator:a90ebe1ba81b2dc6ee7a1f83ef38867b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0db3b45e15d8de01ad05e637254db3b" id="r_ab0db3b45e15d8de01ad05e637254db3b"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::pair&lt; std::string, std::string &gt;, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0db3b45e15d8de01ad05e637254db3b">findMaxIntervalAndCount</a> ()</td></tr>
<tr class="separator:ab0db3b45e15d8de01ad05e637254db3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5822aad04a04c4d50356fac57eb2c6c9" id="r_a5822aad04a04c4d50356fac57eb2c6c9"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::pair&lt; std::string, std::string &gt;, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5822aad04a04c4d50356fac57eb2c6c9">getIntervalWithMaxVisitors</a> ()</td></tr>
<tr class="separator:a5822aad04a04c4d50356fac57eb2c6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeadc79aa9cfa076367882118507eb23" id="r_aaeadc79aa9cfa076367882118507eb23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaeadc79aa9cfa076367882118507eb23">setEntryExits</a> (std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;arg)</td></tr>
<tr class="separator:aaeadc79aa9cfa076367882118507eb23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde41d3d58949da35ad16ddfebde34a6" id="r_abde41d3d58949da35ad16ddfebde34a6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abde41d3d58949da35ad16ddfebde34a6">getEntryExits</a> ()</td></tr>
<tr class="separator:abde41d3d58949da35ad16ddfebde34a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0911ebc233953431afe8a42e18b5ab89" id="r_a0911ebc233953431afe8a42e18b5ab89"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0911ebc233953431afe8a42e18b5ab89">getInvalidEntryExitsPositions</a> ()</td></tr>
<tr class="separator:a0911ebc233953431afe8a42e18b5ab89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057eaf17f210387e88146c7d6dd71bbb" id="r_a057eaf17f210387e88146c7d6dd71bbb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a057eaf17f210387e88146c7d6dd71bbb">getFrequency</a> (const std::string &amp;arg)</td></tr>
<tr class="separator:a057eaf17f210387e88146c7d6dd71bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6992e631629e32dbbfd933eafdb1f72" id="r_aa6992e631629e32dbbfd933eafdb1f72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6992e631629e32dbbfd933eafdb1f72">HHMMToInt</a> (const std::string &amp;arg)</td></tr>
<tr class="separator:aa6992e631629e32dbbfd933eafdb1f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018738095eeb417c80760afac3d4a1a0" id="r_a018738095eeb417c80760afac3d4a1a0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a018738095eeb417c80760afac3d4a1a0">intToHHMM</a> (int arg)</td></tr>
<tr class="separator:a018738095eeb417c80760afac3d4a1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_time_intervals.html" title="TimeIntervals class.">TimeIntervals</a> class. </p>
<p>This class can read visiting times from an input file. The path of the input file is given as an argument to its <a class="el" href="#a27016c92eac5a40f55a986c713e7c0c7">readFromFile()</a> method. The input file is a text file, where every line is the entering and leaving time values of one visitor separated with commas. For example: 10:15,14:20 11:10,15:22 Visiting times can be in a random order and not sorted by entering or leaving time values. method : <a class="el" href="#a27016c92eac5a40f55a986c713e7c0c7">readFromFile(const std::string &amp; fileName)</a>;</p>
<p>Using the data from the input file, this class can find the time period, when there were the most number of visitors and how many visitors were in the museum in that time period. method : <a class="el" href="#ab0db3b45e15d8de01ad05e637254db3b">findMaxIntervalAndCount()</a>;</p>
<p>This class can find the results found in the previous step to the standard output in the form &lt;start
time&gt;-&lt;end time&gt;;&lt;number of visitors&gt;. For example: 11:10-14:20;2 method: <a class="el" href="#a5822aad04a04c4d50356fac57eb2c6c9">getIntervalWithMaxVisitors()</a>; </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a90ebe1ba81b2dc6ee7a1f83ef38867b3" name="a90ebe1ba81b2dc6ee7a1f83ef38867b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ebe1ba81b2dc6ee7a1f83ef38867b3">&#9670;&#160;</a></span>calculateFrequencies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeIntervals::calculateFrequencies </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function calculates frequecncy for each time point for each element in m_entryExits These frequencies are stored in an array of 24*60 elements element in the entryExists is considered only if &lt;start time&gt; and &lt;end time&gt; both are in valid HH:MM format Otherwise that element is skipped (an approriate error is printed on std::err for that element) </p>

</div>
</div>
<a id="ab0db3b45e15d8de01ad05e637254db3b" name="ab0db3b45e15d8de01ad05e637254db3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0db3b45e15d8de01ad05e637254db3b">&#9670;&#160;</a></span>findMaxIntervalAndCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::pair&lt; std::string, std::string &gt;, size_t &gt; TimeIntervals::findMaxIntervalAndCount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function iterates over each frequency and keep a track if maximum frequency and correpsponding start and end points (max_start and max_end) At the end, it populates those values in m_intervalWithMaxVal.</p>
<p>This function handles following corner cases 1) frequency of each time point is same and a nonzero value 2) frequency of each time point is same and is zero </p>

</div>
</div>
<a id="abde41d3d58949da35ad16ddfebde34a6" name="abde41d3d58949da35ad16ddfebde34a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde41d3d58949da35ad16ddfebde34a6">&#9670;&#160;</a></span>getEntryExits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; TimeIntervals::getEntryExits </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This getter function used from unit tests and from main function to display a warning in case entry and exit times were not in valid HH:MM format </p>

</div>
</div>
<a id="a057eaf17f210387e88146c7d6dd71bbb" name="a057eaf17f210387e88146c7d6dd71bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a057eaf17f210387e88146c7d6dd71bbb">&#9670;&#160;</a></span>getFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t TimeIntervals::getFrequency </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This getter function used from unit tests only- </p>

</div>
</div>
<a id="a5822aad04a04c4d50356fac57eb2c6c9" name="a5822aad04a04c4d50356fac57eb2c6c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5822aad04a04c4d50356fac57eb2c6c9">&#9670;&#160;</a></span>getIntervalWithMaxVisitors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::pair&lt; std::string, std::string &gt;, size_t &gt; TimeIntervals::getIntervalWithMaxVisitors </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function returns the interval with max visitors calculated in <a class="el" href="#ab0db3b45e15d8de01ad05e637254db3b">findMaxIntervalAndCount()</a> as a pair. first element of the pair is &lt;start time, end time&gt; second element of the pair os value of max visitors </p>

</div>
</div>
<a id="a0911ebc233953431afe8a42e18b5ab89" name="a0911ebc233953431afe8a42e18b5ab89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0911ebc233953431afe8a42e18b5ab89">&#9670;&#160;</a></span>getInvalidEntryExitsPositions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; size_t &gt; TimeIntervals::getInvalidEntryExitsPositions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This getter function used for printing invalid enry exit times on std::err </p>

</div>
</div>
<a id="aa6992e631629e32dbbfd933eafdb1f72" name="aa6992e631629e32dbbfd933eafdb1f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6992e631629e32dbbfd933eafdb1f72">&#9670;&#160;</a></span>HHMMToInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TimeIntervals::HHMMToInt </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function converts the time value in HH:MM string format to Int using logic - 60*HH + MM (number of minutes since 00:00) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>- 24 hours time in HH:MM format </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a018738095eeb417c80760afac3d4a1a0" name="a018738095eeb417c80760afac3d4a1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a018738095eeb417c80760afac3d4a1a0">&#9670;&#160;</a></span>intToHHMM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string TimeIntervals::intToHHMM </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function converts the time value in int to HH:MM string format using logic returnVal = &lt;arg/60&gt;:&lt;arg-arg/60&gt; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>- 24 hours time in integer format with value same as no of minutes since 00:00 (60*HH + MM) note - if arg is not in the range of [0, 24*60-1] , it return empty string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27016c92eac5a40f55a986c713e7c0c7" name="a27016c92eac5a40f55a986c713e7c0c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27016c92eac5a40f55a986c713e7c0c7">&#9670;&#160;</a></span>readFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeIntervals::readFromFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>inputFile</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads the input file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputFile</td><td>- text file containing in and out timings of visitors in below format <br  />
10:15,14:20 <br  />
11:10,15:22 <br  />
9:58,11:14 <br  />
 The data is stored internally in a vector of pairs m_entryExits </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaeadc79aa9cfa076367882118507eb23" name="aaeadc79aa9cfa076367882118507eb23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeadc79aa9cfa076367882118507eb23">&#9670;&#160;</a></span>setEntryExits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TimeIntervals::setEntryExits </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This setter function used from unit tests only- In actual flow, m_entryExits is populated by <a class="el" href="#a27016c92eac5a40f55a986c713e7c0c7">readFromFile()</a> </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_time_intervals_8h_source.html">TimeIntervals.h</a></li>
<li>src/<a class="el" href="_time_intervals_8cpp.html">TimeIntervals.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
